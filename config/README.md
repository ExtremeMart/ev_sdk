# algo_config.json配置文件说明

### 1. 配置文件中必须实现的字段如下所示，其它的配置字段根据项目拟定，下列字段为固定项，务必在代码接口中实现

   - `draw_roi_area`：是否在结果图片或者视频中画出ROI感兴趣区域，`true`画，`false`不画；默认：`true`
   - `roi_color`：ROI框的颜色，BGRA浮点型数组格式，BGR三通道的范围是`[0,255]`，第四个元素A是透明度，范围是`[0,1.0]`，值越大，画的框、文字透明度越高；默认：`[0, 255, 0, 0.4]`
   - `roi_line_thickness`：ROI线框粗细；默认：`3`
   - `roi_fill`：是否使用颜色填充ROI区域，`true`填充，`false`不填充；默认：`false`
   - `roi`：针对图片的感兴趣区域进行分析，如果没有此参数或者此参数解析错误，则ROI默认值为整张图片区域，类型：使用WKT格式表示的字符串数组
   - `draw_result`：是否画出检测目标框，`true`画，`false`不画；默认：`true`
   - `draw_confidence`：是否将置信度画在框顶部，`true`显示，`false`不显示，默认：`true`，小数点后保留两位
   - `thresh`：检测阈值，设置越大，召回率越高，设置越小，精确率越高；范围：`[0,1]`，默认：`0.5`，推荐：`0.5`

### 2. 开发者自行扩展的可配置参数

   - `target_rect_color`：目标框的颜色，BGRA浮点型数组格式，BGR三通道的范围是`[0,255]`，第四个元素是透明度，范围是`[0,1.0]`，值越大，画的框、文字透明度越高
   - `object_rect_line_thickness`：目标框的粗细，默认：`3`
   - `object_text_color`：目标框顶部文字的颜色，BGRA浮点型数组格式，BGR三通道的范围是`[0,255]`，第四个元素不使用，默认：`[255, 255, 255, 0]`
   - `object_text_bg_color`：目标框顶部文字的背景颜色，BGRA浮点型数组格式，BGR三通道的范围是`[0,255]`，第四个元素不使用，默认：`[50, 50, 50, 0]`
   - `object_text_size`：目标框顶部文字大小，整形，范围`[1,50]`，默认：`30`
   - `draw_warning_text`：是否画报警信息文字，`true`是，`false`否，默认：`true`
   - `warning_text`：报警文字，默认：`WARNING!`
   - `warning_text_size`：报警文字大小，范围`[1,50]`，默认:`30`
   - `warning_text_color`：报警文字颜色，BGRA浮点型数组格式，BGR三通道的范围是`[0,255]`，第四个元素不使用，默认：`[255, 255, 255, 0]`
   - `warning_text_bg_color`：报警文字背景颜色，BGRA浮点型数组格式，BGR三通道的范围是`[0,255]`，第四个元素不使用，默认：`[0, 0, 200, 0]`
   - `warning_text_left_top`：报警文字左上角坐标，整形数组，格式：`[x, y]`，`x`的范围`[0,width]`，`y`的范围`[0,height]`，默认：`[0, 0]`

 ### 3. 参数实时更新功能
 所有可配置参数必须支持能够在调用`ji_calc_frame`、`ji_calc_buffer`、`ji_calc_file`、`ji_calc_video_file`四个接口时，进行实时更新。
 也就是必须要在`ji_calc_*`等接口的`args`参数中，加入这些可配置项。

### 4. 静态参数

根据算法的实际功能和使用场景，第3条中的参数实时更新功能可能只能够部分参数有效，其中

1. 可以通过`ji_calc_frame`等接口的`args`参数传入并实时更新的参数，比如示例代码中检测框的颜色`target_rect_color`，这些配置项称为动态参数（即可动态变更）；
2. 其他无法通过`args`参数传入并进行实时更新的参数称为静态参数，通常这些参数需要重启算法实例才能生效；

**静态参数的名称规范**

静态参数必须以`static`作为前缀，例如`static_detect_thresh`。

### 5. Note

1. **所有的配置项必须提供文档说明；**
2. **在实际项目中请务必删除示例代码中没有使用的配置项。**

